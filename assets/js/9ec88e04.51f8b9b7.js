"use strict";(self.webpackChunkuniversity=self.webpackChunkuniversity||[]).push([[3121],{7132:(e,i,t)=>{t.d(i,{Ay:()=>r,RM:()=>l});var n=t(4848),s=t(8453);const l=[];function o(e){const i={a:"a",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{style:{textAlign:"left"},children:"Environment"}),(0,n.jsx)(i.th,{style:{textAlign:"left"},children:"Webhook URL"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{style:{textAlign:"left"},children:"EU1 Ireland"}),(0,n.jsx)(i.td,{style:{textAlign:"left"},children:e.eu1?(0,n.jsx)(i.a,{href:e.eu1,children:e.eu1}):"\u2014"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{style:{textAlign:"left"},children:"EU2 Frankfurt"}),(0,n.jsx)(i.td,{style:{textAlign:"left"},children:e.eu2?(0,n.jsx)(i.a,{href:e.eu2,children:e.eu2}):"\u2014"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{style:{textAlign:"left"},children:"US east coast"}),(0,n.jsx)(i.td,{style:{textAlign:"left"},children:e.us?(0,n.jsx)(i.a,{href:e.us,children:e.us}):"\u2014"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{style:{textAlign:"left"},children:"Japan Tokyo"}),(0,n.jsx)(i.td,{style:{textAlign:"left"},children:e.jp?(0,n.jsx)(i.a,{href:e.jp,children:e.jp}):"\u2014"})]})]})]})}function r(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8448:(e,i,t)=>{t.d(i,{Ay:()=>r,RM:()=>l});var n=t(4848),s=t(8453);const l=[];function o(e){const i={a:"a",admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,n.jsxs)(i.admonition,{title:"Work in progress",type:"warning",children:[(0,n.jsxs)(i.p,{children:["We're still working on this part and would love to hear your thoughts! Feel free to ",(0,n.jsx)(i.a,{href:"https://github.com/rossumai/university/discussions",children:"share your feedback"})," or ",(0,n.jsx)(i.a,{href:"https://github.com/rossumai/university/pulls",children:"submit a pull request"}),". Thank you! \ud83d\ude4f"]}),e.issue?(0,n.jsxs)(i.p,{children:["Tracking issue: ",(0,n.jsx)(i.a,{href:e.issue,children:e.issue})]}):""]})}function r(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},5579:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"learn/distributive-webhook/index","title":"Distributive webhook","description":"Distributive webhook extension allows for distribution of header-level or multiple-lines-level fields to respective line items. This is handy when some values appear only once per multiple lines.","source":"@site/docs/learn/distributive-webhook/index.md","sourceDirName":"learn/distributive-webhook","slug":"/learn/distributive-webhook/","permalink":"/docs/learn/distributive-webhook/","draft":false,"unlisted":false,"editUrl":"https://github.com/rossumai/university/tree/master/docs/learn/distributive-webhook/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Distributive webhook","sidebar_position":1},"sidebar":"learnSidebar","previous":{"title":"OAuth 2.0 scopes","permalink":"/docs/learn/coupa/oauth-scopes"},"next":{"title":"Duplicates detection","permalink":"/docs/learn/duplicates-detection/"}}');var s=t(4848),l=t(8453),o=t(7132);t(8448);const r={title:"Distributive webhook",sidebar_position:1},d=void 0,a={},h=[{value:"Install distributive webhook extension",id:"install-distributive-webhook-extension",level:2},{value:"Available endpoints",id:"available-endpoints",level:3},...o.RM,{value:"Add the fields to schema",id:"add-the-fields-to-schema",level:2},{value:"Configure the queue",id:"configure-the-queue",level:2},{value:"Configuration example",id:"configuration-example",level:3},{value:"Change the Direction of Distribution",id:"change-the-direction-of-distribution",level:3}];function c(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Distributive webhook"})," extension allows for distribution of header-level or multiple-lines-level fields to respective line items. This is handy when some values appear only once per multiple lines."]}),"\n",(0,s.jsx)(i.h2,{id:"install-distributive-webhook-extension",children:"Install distributive webhook extension"}),"\n",(0,s.jsx)(i.p,{children:"Distribution of values to line items is provided as a service by Rossum.ai in the form of a webhook. To start using the extension, follow these steps:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Login to your Rossum account."}),"\n",(0,s.jsxs)(i.li,{children:["Navigate to ",(0,s.jsx)(i.strong,{children:"Extensions \u2192 My extensions"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Click on ",(0,s.jsx)(i.strong,{children:"Create extension"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Fill the following fields:","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Name: ",(0,s.jsx)(i.code,{children:"Distributive Webhook"})]}),"\n",(0,s.jsxs)(i.li,{children:["Trigger events: ",(0,s.jsx)(i.code,{children:"Document content: Initialize, Updated"})]}),"\n",(0,s.jsx)(i.li,{children:"Queues where the extension should be executed"}),"\n",(0,s.jsxs)(i.li,{children:["Extension type: ",(0,s.jsx)(i.code,{children:"Webhook"})]}),"\n",(0,s.jsxs)(i.li,{children:["URL (see ",(0,s.jsx)(i.a,{href:"#available-endpoints",children:"Available endpoints"})," below)"]}),"\n",(0,s.jsxs)(i.li,{children:["Under Advanced settings find Additional notification metadata and enable ",(0,s.jsx)(i.code,{children:"Schemas"})," and ",(0,s.jsx)(i.code,{children:"Queues"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Click ",(0,s.jsx)(i.strong,{children:"Create the webhook"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"available-endpoints",children:"Available endpoints"}),"\n",(0,s.jsx)(o.Ay,{eu1:"https://elis.rossum.ai/svc/distributive/validate",eu2:"https://{your domain}.rossum.app/svc/distributive/validate",us:"https://us.app.rossum.ai/svc/distributive/validate",jp:"https://shared-jp.app.rossum.ai/svc/distributive/validate"}),"\n",(0,s.jsx)(i.h2,{id:"add-the-fields-to-schema",children:"Add the fields to schema"}),"\n",(0,s.jsx)(i.p,{children:"The distributive webhook needs the following fields:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Multi-value field for extracting the header-level or multi-line-level fields - source of the distribution"}),"\n",(0,s.jsx)(i.li,{children:"Line item field - target of the distribution"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Example with 2 multi-value fields",src:t(2779).A+"",width:"433",height:"901"})}),"\n",(0,s.jsx)(i.h2,{id:"configure-the-queue",children:"Configure the queue"}),"\n",(0,s.jsx)(i.p,{children:"The source and target fields of the distribution are configured in each queue metadata:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Make sure the queue is selected in the distributive webhook extension"}),"\n",(0,s.jsxs)(i.li,{children:["Save the configuration into the queue metadata - you need to use the ",(0,s.jsx)(i.a,{href:"https://elis.rossum.ai/api/docs/#queue",children:"API"})]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"configuration-example",children:"Configuration example"}),"\n",(0,s.jsx)(i.p,{children:"The configuration follows this format:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "distributive_fields": {\n    "{line items table schema ID}": {\n      "{line item field (target) schema ID}": {\n        "schema_ids": ["{multivalue field\'s child (source) schema ID}"]\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(i.p,{children:"For the sample schema above, the configuration would look like this:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "distributive_fields": {\n    "line_items": {\n      "item_delivery_note": {\n        "schema_ids": ["delivery_note"]\n      },\n      "item_delivery_date": {\n        "schema_ids": ["delivery_date"]\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"change-the-direction-of-distribution",children:"Change the Direction of Distribution"}),"\n",(0,s.jsx)(i.p,{children:"The default direction of the distribution is downwards, to the rows below the value."}),"\n",(0,s.jsx)(i.p,{children:"For cases when the value should be distributed to the rows above it (instead of the ones below), it is possible to specify the preferred direction."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "distributive_fields": {\n    "line_items": {\n      "item_delivery_note": {\n        "schema_ids": ["delivery_note"],\n        // highlight-start\n        "preferred_direction": "upwards",\n        "preferred_direction_only": true\n        // highlight-end\n      }\n    }\n  }\n}\n'})})]})}function u(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},2779:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/schema-0db9ee8f47fd6ce6655f1ee50e607e13.png"},8453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>r});var n=t(6540);const s={},l=n.createContext(s);function o(e){const i=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(l.Provider,{value:i},e.children)}}}]);